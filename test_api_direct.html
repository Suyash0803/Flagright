<!DOCTYPE html>
<html>
<head>
    <title>Direct API Test</title>
</head>
<body>
    <h1>Testing Node Colors Directly</h1>
    <div id="result"></div>
    
    <script>
        console.log('üß™ Direct API Test Starting...');
        
        fetch('http://localhost:5000/api/relationships/user/user-1')
            .then(response => response.json())
            .then(data => {
                console.log('üì° Raw API Response:', data);
                
                const result = document.getElementById('result');
                let html = '<h2>API Response Analysis:</h2>';
                
                html += `<p>Total Nodes: ${data.nodes.length}</p>`;
                
                const transactionNodes = data.nodes.filter(n => n.data.type === 'transaction');
                const userNodes = data.nodes.filter(n => n.data.type === 'user');
                
                html += `<p>Transaction Nodes: ${transactionNodes.length}</p>`;
                html += `<p>User Nodes: ${userNodes.length}</p>`;
                
                html += '<h3>Sample Transaction Nodes (Should be Blue):</h3>';
                html += '<ul>';
                transactionNodes.slice(0, 5).forEach(node => {
                    html += `<li style="color: blue;">ID: ${node.data.id}, Type: ${node.data.type}, Label: ${node.data.label}</li>`;
                });
                html += '</ul>';
                
                html += '<h3>Sample User Nodes (Should be Green):</h3>';
                html += '<ul>';
                userNodes.slice(0, 5).forEach(node => {
                    html += `<li style="color: green;">ID: ${node.data.id}, Type: ${node.data.type}, Label: ${node.data.label}</li>`;
                });
                html += '</ul>';
                
                result.innerHTML = html;
            })
            .catch(error => {
                console.error('‚ùå API Error:', error);
                document.getElementById('result').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            });
    </script>
</body>
</html>